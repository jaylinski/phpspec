<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=/phpspec/v7/cookbook/templates/><title>Templates &#8212; phpspec</title><link rel=alternate hreflang=en href=https://jaylinski.github.io/phpspec/v7/cookbook/templates/><link rel=icon href=https://jaylinski.github.io/phpspec/favicon.ico type=image/x-icon><link rel=stylesheet href=/phpspec/styles.min.a96f39663f75bb4d9452426e8b90189e17009551917678010a9dec08c0ae1132.css type=text/css></head><body><section><nav class=nav-main><ul><li><a href=/phpspec/>main</a></li><li><a href=/phpspec/v7/manual/introduction/>phpspec manual</a></li></ul><ul><li><a href=https://www.github.com/phpspec/phpspec target=_blank>phpspec repo</a></li><li><a href=https://www.github.com/phpspec/prophecy target=_blank>prophecy repo</a></li></ul></nav></section><section class=flex><aside><div class=nav-sidebar-headline><h3 class=h-chapter>Chapters</h3><button>Menu</button></div><nav class=nav-sidebar><section class=nav-sidebar-main><ul><li><a href=/phpspec/v7/manual/introduction/>Introduction</a><nav id=TableOfContents><ol><li><a href=#specbdd-with-phpspec>SpecBDD with phpspec</a></li><li><a href=#specbdd-and-tdd>SpecBDD and TDD</a></li><li><a href=#specbdd-and-storybdd>SpecBDD and StoryBDD</a></li></ol></nav></li><li><a href=/phpspec/v7/manual/installation/>Installation</a><nav id=TableOfContents><ol><li><a href=#installation-process>Installation process:</a></li><li><a href=#method-1-composer-command>Method #1 (Composer command):</a></li><li><a href=#method-2-composer-config-file>Method #2 (Composer config file):</a></li><li><a href=#result>Result:</a></li></ol></nav></li><li><a href=/phpspec/v7/manual/getting-started/>Getting Started</a><nav id=TableOfContents><ol><li><a href=#examples>Examples</a></li><li><a href=#specifying-behaviour>Specifying behaviour</a></li><li><a href=#skipping-examples>Skipping examples</a></li></ol></nav></li><li><a href=/phpspec/v7/manual/prophet-objects/>Prophet Objects</a><nav id=TableOfContents><ol><li><a href=#stubs>Stubs</a></li><li><a href=#mocks>Mocks</a></li><li><a href=#spies>Spies</a></li></ol></nav></li><li><a href=/phpspec/v7/manual/let-and-letgo/>Let and Let Go</a><nav id=TableOfContents></nav></li><li><a href=/phpspec/v7/manual/upgrading-to-phpspec-7/>Upgrading to phpspec 7</a><nav id=TableOfContents></nav></li><li><a href=/phpspec/v7/manual/upgrading-to-phpspec-6/>Upgrading to phpspec 6</a><nav id=TableOfContents></nav></li><li><a href=/phpspec/v7/manual/upgrading-to-phpspec-5/>Upgrading to phpspec 5</a><nav id=TableOfContents></nav></li><li><a href=/phpspec/v7/manual/upgrading-to-phpspec-4/>Upgrading to phpspec 4</a><nav id=TableOfContents><ol><li><a href=#upgrading-for-users>Upgrading for Users</a></li><li><a href=#upgrading-for-extension-authors>Upgrading for Extension Authors</a></li></ol></nav></li></ul><hr><ul><li><a href=/phpspec/v7/cookbook/configuration/>Configuration</a><nav id=TableOfContents><ol><li><a href=#psr-4>PSR-4</a></li><li><a href=#spec-and-source-locations>Spec and source locations</a></li><li><a href=#formatter>Formatter</a></li><li><a href=#options>Options</a></li><li><a href=#extensions>Extensions</a></li><li><a href=#custom-matchers>Custom matchers</a></li><li><a href=#bootstrapping>Bootstrapping</a></li></ol></nav></li><li><a href=/phpspec/v7/cookbook/console/>Running phpspec</a><nav id=TableOfContents><ol><li><a href=#describe-command>Describe Command</a></li><li><a href=#run-command>Run Command</a></li></ol></nav></li><li><a href=/phpspec/v7/cookbook/construction/>Object Construction</a><nav id=TableOfContents><ol><li><a href=#using-the-constructor>Using the Constructor</a></li><li><a href=#using-a-factory-method>Using a Factory Method</a></li><li><a href=#overriding>Overriding</a></li></ol></nav></li><li><a href=/phpspec/v7/cookbook/matchers/>Matchers</a><nav id=TableOfContents><ol><li><a href=#identity-matcher>Identity Matcher</a></li><li><a href=#comparison-matcher>Comparison Matcher</a></li><li><a href=#approximately-matcher>Approximately Matcher</a></li><li><a href=#throw-matcher>Throw Matcher</a></li><li><a href=#trigger-matcher>Trigger Matcher</a></li><li><a href=#type-matcher>Type Matcher</a></li><li><a href=#objectstate-matcher>ObjectState Matcher</a></li><li><a href=#count-matcher>Count Matcher</a></li><li><a href=#scalar-matcher>Scalar Matcher</a></li><li><a href=#iterablecontain-matcher>IterableContain Matcher</a></li><li><a href=#iterablekeywithvalue-matcher>IterableKeyWithValue Matcher</a></li><li><a href=#iterablekey-matcher>IterableKey Matcher</a></li><li><a href=#iterateas-matcher>IterateAs Matcher</a></li><li><a href=#iteratelike-matcher>IterateLike Matcher</a></li><li><a href=#startiteratingas-matcher>StartIteratingAs Matcher</a></li><li><a href=#stringcontain-matcher>StringContain Matcher</a></li><li><a href=#stringstart-matcher>StringStart Matcher</a></li><li><a href=#stringend-matcher>StringEnd Matcher</a></li><li><a href=#stringregex-matcher>StringRegex Matcher</a></li><li><a href=#inline-matcher>Inline Matcher</a></li></ol></nav></li><li class=nav-active><a href=/phpspec/v7/cookbook/templates/>Templates</a><nav id=TableOfContents><ol><li><a href=#overriding-templates>Overriding templates</a></li><li><a href=#parameters>Parameters</a></li></ol></nav></li><li><a href=/phpspec/v7/cookbook/extensions/>Extensions</a><nav id=TableOfContents><ol><li><a href=#installation>Installation</a></li><li><a href=#configuration>Configuration</a></li><li><a href=#example-extensions>Example extensions</a></li></ol></nav></li><li><a href=/phpspec/v7/cookbook/wrapped-objects/>Working with Wrapped Objects</a><nav id=TableOfContents></nav></li></ul></section><section class=nav-sidebar-version><h3>Version</h3><ul><li class=nav-version-active><a href=/phpspec/v7/manual/introduction/>v7&nbsp;(<strong>latest</strong>)</a></li><li><a href=/phpspec/v6/manual/introduction/>v6</a></li></ul></section></nav></aside><main><h1>Templates</h1><p><strong>phpspec</strong> can generate code snippets that will save you time when
specifying classes. The default templates will be suitable for many use
cases.</p><p>However in some cases, it&rsquo;ll be useful to customize those templates by
providing ones that suit your project requirements. For example, you may
need to add licence information in a docblock to every class file.
Instead of doing this manually you can modify the template so it is
already in the generated file.</p><h2 id=overriding-templates>Overriding templates</h2><p><strong>phpspec</strong> uses three templates:</p><ul><li><em>specification</em> - used when a spec is generated using the
describe command</li><li><em>class</em> - used to generate a class that is specified but which
does not exist</li><li><em>method</em> - used to add a method that is specified to a class</li></ul><p>You can override these on a per project basis by creating a template
file in .phpspec in the root directory of the project. For example, to
add licence information to the docblock for a class, you can create a
file <code>{project_directory}/.phpspec/class.tpl</code>. You can copy the contents
of the default template found in <strong>phpspec</strong> at
<code>src/PhpSpec/CodeGenerator/Generator/templates/class.template</code> and add
the docblock to it:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>

<span style=color:#75715e>/*
</span><span style=color:#75715e> * This file is part of Acme.
</span><span style=color:#75715e> *
</span><span style=color:#75715e> * For the full copyright and license information, please view the LICENSE
</span><span style=color:#75715e> * file that was distributed with this source code.
</span><span style=color:#75715e> */</span><span style=color:#f92672>%</span><span style=color:#a6e22e>namespace_block</span><span style=color:#f92672>%</span>

<span style=color:#66d9ef>class</span> <span style=color:#960050;background-color:#1e0010>%</span><span style=color:#a6e22e>name</span><span style=color:#f92672>%</span>
{
}
</code></pre></div><p>So now, for example, you want to describe a class <code>Acme\Model\Foo</code> which
does not exist. You can run the spec <code>spec/Acme/Model/FooSpec.php</code> and
let <strong>phpspec</strong> generate the missing class. <strong>phpspec</strong> will use your
overridden template and the generated file will look like:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>

<span style=color:#75715e>/*
</span><span style=color:#75715e> * This file is part of Acme.
</span><span style=color:#75715e> *
</span><span style=color:#75715e> * For the full copyright and license information, please view the LICENSE
</span><span style=color:#75715e> * file that was distributed with this source code.
</span><span style=color:#75715e> */</span>

<span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>Acme\Model</span>;

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Foo</span>
{
}
</code></pre></div><p>You can also override the templates for all your projects by creating a
template in .phpspec in your home directory.</p><p><strong>phpspec</strong> uses the first template it finds by looking in this order:</p><ol><li><code>{project_directory}/.phpspec/{template_name}.tpl</code></li><li><code>{home_directory}/.phpspec/{template_name}.tpl</code></li><li>The default template</li></ol><h2 id=parameters>Parameters</h2><p>As well as static text there are some parameters available like the
<code>%namespace_block%</code> in the example above. The parameters available
depend on which type of template you are overriding:</p><p><strong>specification</strong></p><ul><li><code>%filepath%</code> the file path of the class</li><li><code>%imports%</code> the alphabetically sorted imports</li><li><code>%name%</code> the specification name</li><li><code>%namespace%</code> the specification namespace</li><li><code>%subject%</code> the fully-qualified name of the class being
specified</li><li><code>%subject_class%</code> the name of the class being specified</li></ul><p><strong>class</strong></p><ul><li><code>%filepath%</code> the file path of the class</li><li><code>%name%</code> the class name</li><li><code>%namespace%</code> the class namespace</li><li><code>%namespace_block%</code> the formatted class namespace</li></ul><p><strong>method</strong></p><ul><li><code>%name%</code> the method name</li><li><code>%arguments%</code> the method arguments</li></ul><nav class=nav-pagination><ul><li><strong>Previous</strong>
<a href=https://jaylinski.github.io/phpspec/v7/manual/let-and-letgo/>Let and Let Go</a></li><li><strong>Next</strong>
<a href=https://jaylinski.github.io/phpspec/v7/manual/upgrading-to-phpspec-7/>Upgrading to phpspec 7</a></li></ul></nav></main></section><section><footer><ul><li><a href=https://www.github.com/phpspec/phpspec/edit/main/docs/en/v7/cookbook/templates.md target=_blank>Improve this page</a></li></ul></footer></section></body></html>
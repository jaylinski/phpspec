<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content><meta name=viewport content="width=device-width,initial-scale=1"><title>&#8212; phpspec v6.1</title><link rel=alternate hreflang=en href=http://www.phpspec.net/cookbook/console/><link rel=icon href=/favicon.ico type=image/x-icon><style type=text/css integrity="sha256-7hJdmgAToJMZp17gcOEPUMhzbO9hvPLSs8jqVBYO1Zc=">*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}body{min-height:100vh;scroll-behavior:smooth;text-rendering:optimizeSpeed;line-height:1.5}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%;display:block}article>*+*{margin-top:1em}input,button,textarea,select{font:inherit}@media(prefers-reduced-motion:reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}body{color:#414141;font-family:trebuchet ms,serif;background:#fff url(/images/bg.jpg)repeat-x;margin:0}a{color:#111}a:hover{text-decoration:none}h1,h2,h3{color:#333;font-style:italic}h1{font-size:30px;margin-bottom:.8em}h2{font-size:26px;margin-top:.8em;margin-bottom:.6em}p{font-size:15px;line-height:20px;margin-bottom:1em}pre{overflow:auto}table{border-collapse:collapse}table td,table th{border:1px solid rgba(0,0,0,.4);padding:4px 8px;text-align:left}section{max-width:840px;overflow:auto;margin:0 auto;padding:0 15px}main{margin-bottom:5em}footer{color:#777;border-top:1px solid #ccc}footer ul{list-style:none;padding:0}footer a{color:inherit}.nav-main{display:flex;justify-content:space-between;border-bottom:1px solid #c4c4c4;margin:10px 0 2em}.nav-main a{display:block;border-top:5px solid #727272;width:160px;padding:8px 0 10px;text-decoration:none;text-align:center}.nav-main a:hover{border-top-color:#fff}.nav-main ul{display:flex;list-style:none;padding:0}.nav-main .nav-active{color:#000;border-top-color:#000}.highlight pre{border-radius:5px;padding:12px 14px}.home{text-align:center;margin:4em 0}.home img{display:inline}.home h1{color:#4f4f4f;line-height:48px;margin-top:2em}.home h1 em{color:#111}.quickstart{border-top:1px solid #ccc;padding-top:2em}</style></head><body><section><nav class=nav-main><ul class=nav-item-main><li><a href=/>main</a></li><li><a href=/manual/introduction/>phpspec manual</a></li></ul><ul class=nav-item-github><li><a href=https://www.github.com/phpspec/phpspec target=_blank>phpspec repo</a></li><li><a href=https://www.github.com/phpspec/prophecy target=_blank>prophecy repo</a></li></ul></nav><main><h1></h1><h1 id=running-phpspec>Running phpspec</h1><p>The phpspec console command uses Symfony&rsquo;s console component. This means
that it inherits the <a href=http://symfony.com/doc/current/components/console/usage.html>default Symfony console command and
options</a>.</p><p><strong>phpspec</strong> has an additional global option to let you specify a config
file other than phpspec.yml, .phpspec.yml, or `phpspec.yml.dist`:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec run --config path/to/different-phpspec.yml
</code></pre></div><p>or:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec run -c path/to/different-phpspec.yml
</code></pre></div><p>Read more about this in the
Configuration Cookbook &lt;/cookbook/configuration></p><p>Also of note is that using the <code>--no-interaction</code> option means that no
code generation will be done.</p><p><strong>phpspec</strong> has the global option to let you specify a custom bootstrap
or autoloading script.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec run --bootstrap<span style=color:#f92672>=</span>path/to/different-bootstrap.php
</code></pre></div><p>or:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec run -b path/to/different-bootstrap.php
</code></pre></div><h2 id=describe-command>Describe Command</h2><p>The <code>describe</code> command creates a specification for a class:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec describe ClassName
</code></pre></div><p>Will generate a specification ClassNameSpec in the spec directory.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec describe Namespace/ClassName
</code></pre></div><p>Will generate a namespaced specification NamespaceClassNameSpec. Note
that <code>/</code> is used as the separator. To use <code>\</code> it must be quoted:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec describe <span style=color:#e6db74>&#34;Namespace\ClassName&#34;</span>
</code></pre></div><p>The <code>describe</code> command has no additional options. It will create a spec
class in the spec directory. To configure a different path to the specs
you can use suites &lt;configuration-suites> in the configuration
file.</p><h2 id=run-command>Run Command</h2><p>The <code>run</code> command runs the specs:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec run
</code></pre></div><p>Will run all the specs in the spec directory.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec run spec/ClassNameSpec.php
</code></pre></div><p>Will run only the ClassNameSpec.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec run spec/ClassNameSpec.php:56
</code></pre></div><p>Will run only specification defined in the ClassNameSpec on line 56.</p><p>You can run just the specs in a directory with:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec run spec/Markdown
</code></pre></div><p>Which will run any specs found in spec/Markdown and its subdirectories.
Note that it is the spec location and not namespaces that are used to
decide which specs to run. Any spec which has a namespace which does not
match its file path will be ignored.</p><p>By default, you will be asked whether missing methods and classes should
be generated. You can suppress these prompts and automatically choose
not to generate code with:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec run --no-code-generation
</code></pre></div><p>You can choose to stop on failure and avoid running the remaining specs
with:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec run --stop-on-failure
</code></pre></div><p>TDD work cycle can be described using three steps: Fail, Pass, Refactor.
If you create a failing spec for a new method, the next step will be to
make it pass. The easiest way to achieve it, is to simply hard code the
method, so it returns the expected value.</p><p><strong>phpspec</strong> can do that for you.</p><p>You can opt to automatically fake return values with:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec run --fake
</code></pre></div><p>You can choose the output format with the <code>--format</code> option e.g.:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ bin/phpspec run --format<span style=color:#f92672>=</span>dot
</code></pre></div><p>The formatters available by default are:</p><ul><li>progress (default)</li><li>html</li><li>pretty</li><li>junit</li><li>dot</li></ul><p>More formatters can be added by extensions&lt;/cookbook/extensions>.</p></main><nav></nav><footer><ul><li><a href=https://www.github.com/phpspec/phpspec/edit/master/docs/en/cookbook/console.md target=_blank>Improve this page</a></li></ul></footer></section></body></html>
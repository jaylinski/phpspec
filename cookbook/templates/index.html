<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content><meta name=viewport content="width=device-width,initial-scale=1"><title>&#8212; phpspec v6.1</title><link rel=alternate hreflang=en href=http://www.phpspec.net/cookbook/templates/><link rel=icon href=/favicon.ico type=image/x-icon><style type=text/css integrity="sha256-7hJdmgAToJMZp17gcOEPUMhzbO9hvPLSs8jqVBYO1Zc=">*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}body{min-height:100vh;scroll-behavior:smooth;text-rendering:optimizeSpeed;line-height:1.5}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%;display:block}article>*+*{margin-top:1em}input,button,textarea,select{font:inherit}@media(prefers-reduced-motion:reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}body{color:#414141;font-family:trebuchet ms,serif;background:#fff url(/images/bg.jpg)repeat-x;margin:0}a{color:#111}a:hover{text-decoration:none}h1,h2,h3{color:#333;font-style:italic}h1{font-size:30px;margin-bottom:.8em}h2{font-size:26px;margin-top:.8em;margin-bottom:.6em}p{font-size:15px;line-height:20px;margin-bottom:1em}pre{overflow:auto}table{border-collapse:collapse}table td,table th{border:1px solid rgba(0,0,0,.4);padding:4px 8px;text-align:left}section{max-width:840px;overflow:auto;margin:0 auto;padding:0 15px}main{margin-bottom:5em}footer{color:#777;border-top:1px solid #ccc}footer ul{list-style:none;padding:0}footer a{color:inherit}.nav-main{display:flex;justify-content:space-between;border-bottom:1px solid #c4c4c4;margin:10px 0 2em}.nav-main a{display:block;border-top:5px solid #727272;width:160px;padding:8px 0 10px;text-decoration:none;text-align:center}.nav-main a:hover{border-top-color:#fff}.nav-main ul{display:flex;list-style:none;padding:0}.nav-main .nav-active{color:#000;border-top-color:#000}.highlight pre{border-radius:5px;padding:12px 14px}.home{text-align:center;margin:4em 0}.home img{display:inline}.home h1{color:#4f4f4f;line-height:48px;margin-top:2em}.home h1 em{color:#111}.quickstart{border-top:1px solid #ccc;padding-top:2em}</style></head><body><section><nav class=nav-main><ul class=nav-item-main><li><a href=/>main</a></li><li><a href=/manual/introduction/>phpspec manual</a></li></ul><ul class=nav-item-github><li><a href=https://www.github.com/phpspec/phpspec target=_blank>phpspec repo</a></li><li><a href=https://www.github.com/phpspec/prophecy target=_blank>prophecy repo</a></li></ul></nav><main><h1></h1><h1 id=templates>Templates</h1><p><strong>phpspec</strong> can generate code snippets that will save you time when
specifying classes. The default templates will be suitable for many use
cases.</p><p>However in some cases, it&rsquo;ll be useful to customize those templates by
providing ones that suit your project requirements. For example, you may
need to add licence information in a docblock to every class file.
Instead of doing this manually you can modify the template so it is
already in the generated file.</p><h2 id=overriding-templates>Overriding templates</h2><dl><dt><strong>phpspec</strong> uses three templates:</dt><dd><ul><li><em>specification</em> - used when a spec is generated using the
describe command</li><li><em>class</em> - used to generate a class that is specified but which
does not exist</li><li><em>method</em> - used to add a method that is specified to a class</li></ul></dd></dl><p>You can override these on a per project basis by creating a template
file in .phpspec in the root directory of the project. For example, to
add licence information to the docblock for a class, you can create a
file <code>{project_directory}/.phpspec/class.tpl</code>. You can copy the contents
of the default template found in <strong>phpspec</strong> at
<code>src/PhpSpec/CodeGenerator/Generator/templates/class.template</code> and add
the docblock to it:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#75715e>&lt;?php</span>

<span style=color:#75715e>/*
</span><span style=color:#75715e> * This file is part of Acme.
</span><span style=color:#75715e> *
</span><span style=color:#75715e> * For the full copyright and license information, please view the LICENSE
</span><span style=color:#75715e> * file that was distributed with this source code.
</span><span style=color:#75715e> */</span><span style=color:#f92672>%</span><span style=color:#a6e22e>namespace_block</span><span style=color:#f92672>%</span>

<span style=color:#66d9ef>class</span> <span style=color:#960050;background-color:#1e0010>%</span><span style=color:#a6e22e>name</span><span style=color:#f92672>%</span>
{
}
</code></pre></div><p>So now, for example, you want to describe a class <code>Acme\Model\Foo</code> which
does not exist. You can run the spec <code>spec/Acme/Model/FooSpec.php</code> and
let <strong>phpspec</strong> generate the missing class. <strong>phpspec</strong> will use your
overridden template and the generated file will look like:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#75715e>&lt;?php</span>

<span style=color:#75715e>/*
</span><span style=color:#75715e> * This file is part of Acme.
</span><span style=color:#75715e> *
</span><span style=color:#75715e> * For the full copyright and license information, please view the LICENSE
</span><span style=color:#75715e> * file that was distributed with this source code.
</span><span style=color:#75715e> */</span>

<span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>Acme\Model</span>;

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Foo</span>
{
}
</code></pre></div><p>You can also override the templates for all your projects by creating a
template in .phpspec in your home directory.</p><p><strong>phpspec</strong> uses the first template it finds by looking in this order:</p><blockquote><ol><li><code>{project_directory}/.phpspec/{template_name}.tpl</code></li><li><code>{home_directory}/.phpspec/{template_name}.tpl</code></li><li>The default template</li></ol></blockquote><h2 id=parameters>Parameters</h2><p>As well as static text there are some parameters available like the
<code>%namespace_block%</code> in the example above. The parameters available
depend on which type of template you are overriding:</p><dl><dt><strong>specification</strong></dt><dd><ul><li><code>%filepath%</code> the file path of the class</li><li><code>%imports%</code> the alphabetically sorted imports</li><li><code>%name%</code> the specification name</li><li><code>%namespace%</code> the specification namespace</li><li><code>%subject%</code> the fully-qualified name of the class being
specified</li><li><code>%subject_class%</code> the name of the class being specified</li></ul></dd><dt><strong>class</strong></dt><dd><ul><li><code>%filepath%</code> the file path of the class</li><li><code>%name%</code> the class name</li><li><code>%namespace%</code> the class namespace</li><li><code>%namespace_block%</code> the formatted class namespace</li></ul></dd><dt><strong>method</strong></dt><dd><ul><li><code>%name%</code> the method name</li><li><code>%arguments%</code> the method arguments</li></ul></dd></dl></main><nav></nav><footer><ul><li><a href=https://www.github.com/phpspec/phpspec/edit/master/docs/en/cookbook/templates.md target=_blank>Improve this page</a></li></ul></footer></section></body></html>